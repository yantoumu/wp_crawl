# WordPress REST API Scanner - é«˜æ€§èƒ½é…ç½®
# ä¼˜åŒ–ç›®æ ‡: 20å€é€Ÿåº¦æå‡ï¼Œæœ€å°åŒ–ç£ç›˜ I/O

crawl:
  name: "CC-MAIN-2025-38"  # ä¿®æ”¹ä¸ºä½ çš„æ‰¹æ¬¡
  segments: []              # ç©º = å¤„ç†æ‰€æœ‰æ®µ
  start_from: 0             # ä»ç¬¬å‡ ä¸ª WAT æ–‡ä»¶å¼€å§‹

# ğŸš€ å¹¶å‘ä¼˜åŒ–: ä» 1 æå‡åˆ° 20
concurrency:
  workers: 20               # â­ æ ¸å¿ƒä¼˜åŒ–: 20 å€å¹¶å‘
  download_queue: 100       # å¢å¤§ä¸‹è½½é˜Ÿåˆ—
  process_queue: 200        # å¢å¤§å¤„ç†é˜Ÿåˆ—

# ğŸŒ ç½‘ç»œä¼˜åŒ–
network:
  timeout: 90s              # å¢åŠ è¶…æ—¶ï¼ˆåº”å¯¹æ…¢é€Ÿè¿æ¥ï¼‰
  retry_attempts: 5         # å¢åŠ é‡è¯•æ¬¡æ•°
  retry_delay: 3s           # é‡è¯•å»¶è¿Ÿ
  max_concurrent_conns: 10  # â­ æœ€å¤§å¹¶å‘HTTPè¿æ¥æ•°ï¼ˆé¿å…ç½‘ç»œé”™è¯¯ï¼‰

# ğŸ” æ£€æµ‹è®¾ç½®
detection:
  patterns:
    - "api.w.org"
    - "wp/v2"
    - "wp-json"
  enable_cdx: false         # CDX éªŒè¯ï¼ˆå¯é€‰ï¼‰
  pre_filter: true          # å¯ç”¨é¢„è¿‡æ»¤ï¼ˆåŠ é€Ÿï¼‰

# ğŸ’¾ è¾“å‡ºä¼˜åŒ–: å‡å°‘ç£ç›˜åŒæ­¥
output:
  directory: "."
  file_prefix: "hits"
  compress: true            # å¯ç”¨ gzip å‹ç¼©
  buffer_size: 4194304      # 4MB (ä» 1MB æå‡)
  flush_interval: 60s       # â­ 60ç§’åˆ·æ–°ï¼ˆä» 10s å»¶é•¿ï¼‰

# ğŸ”„ æ–­ç‚¹ç»­æ‰«
resume:
  enable: true
  state_file: "scanner_state.json"
  save_interval: 60s        # 60ç§’ä¿å­˜çŠ¶æ€

# ğŸ“Š æ—¥å¿—è®¾ç½®
logging:
  log_level: "info"
  log_file: "scanner.log"
  progress_bar: true

# âš™ï¸ æ€§èƒ½è®¾ç½®
performance:
  max_memory_mb: 10240      # 10GB (20 workers * 100MB + ä½™é‡)
  enable_profile: false     # pprof æ€§èƒ½åˆ†æ
  profile_port: 6060
